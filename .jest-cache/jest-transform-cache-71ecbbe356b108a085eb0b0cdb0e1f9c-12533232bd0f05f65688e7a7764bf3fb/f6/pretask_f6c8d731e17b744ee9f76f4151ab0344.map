{"version":3,"names":["cov_te6br0n86","actualCoverage","fs","s","require","path","getLogger","getOrCreate","propagate","getAdapter","taggedMemoryStore","detectProject","budgetTracker","budgetCheckEnabled","console","log","err","warn","logger","otelAdapter","TASK_TYPE_TO_AGENT","research","analyze","code","implement","build","test","validate","review","audit","design","architect","plan","database","api","debug","fix","refactor","optimize","performance","security","deploy","documentation","ml","frontend","backend","mobile","autoAssignAgent","taskDescription","f","b","lowerDesc","toLowerCase","keyword","agentType","Object","entries","includes","callBackendAPI","endpoint","data","backendUrl","process","env","FASTAPI_BACKEND_URL","url","fetch","default","response","method","headers","body","JSON","stringify","ok","Error","status","statusText","json","error","message","note","preTaskHook","context","startTime","Date","now","taskId","correlationId","span","startSpan","attributes","description","info","trace_id","span_id","spanId","task_id","task_description","operation","assignedAgent","taskInfo","project","cwd","toISOString","sessionId","parentTask","swarmId","setAttributes","assigned_agent","budgetCheck","checkBudget","estimatedTokens","estimatedCost","allowed","reason","remaining","setAttribute","addEvent","global","agent","endSpan","success","blocked","budgetStatus","timestamp","httpStatus","remaining_tokens","checkTime","memoryData","event","intent","session_id","swarm_id","memoryStore","key","value","memory_key","backendResponse","metadata","backend_response","storeSessionMetadata","hookDuration","recordException","stack","sessionPath","join","__dirname","existsSync","mkdirSync","recursive","sessionFile","sessionData","writeFileSync","session_file","getSessionMetadata","readFileSync","parse","main","args","argv","slice","length","exit","command","result","module","catch","exports"],"sources":["pre-task.js"],"sourcesContent":["\r\n\r\n/**\r\n * Pre-Task Hook\r\n *\r\n * Executes before task execution to auto-assign agents, initialize session, and prepare resources.\r\n * Integrates with Memory MCP tagging protocol for WHO/WHEN/PROJECT/WHY tracking.\r\n *\r\n * Features:\r\n * - Auto-assign agent by task type (research → researcher, code → coder, test → tester)\r\n * - Log to Memory MCP with full metadata tagging\r\n * - Start session timer and initialize correlation ID\r\n * - Call FastAPI backend endpoint for centralized tracking\r\n * - WebSocket notification for real-time updates\r\n *\r\n * Usage:\r\n *   This hook is automatically invoked before task execution in Claude Code.\r\n *\r\n * Environment Variables:\r\n *   CLAUDE_FLOW_AGENT_TYPE - Agent type for context\r\n *   FASTAPI_BACKEND_URL - FastAPI backend URL (default: http://localhost:8000)\r\n *   NODE_ENV - Environment (development, production, test)\r\n */\r\n\r\nconst fs = require('fs');\r\nconst path = require('path');\r\nconst { getLogger } = require('./structured-logger');\r\nconst { getOrCreate, propagate } = require('./correlation-id-manager');\r\nconst { getAdapter } = require('./opentelemetry-adapter');\r\nconst { taggedMemoryStore, detectProject } = require('./memory-mcp-tagging-protocol');\r\n\r\n// BLOCKER-4: Import budget tracker for pre-check validation\r\nlet budgetTracker, budgetCheckEnabled;\r\ntry {\r\n  budgetTracker = require('../../../../claude-code-plugins/ruv-sparc-three-loop-system/hooks/12fa/budget-tracker.js');\r\n  budgetCheckEnabled = true;\r\n  console.log('[PreTask] Budget enforcement enabled');\r\n} catch (err) {\r\n  budgetCheckEnabled = false;\r\n  console.warn('[PreTask] Budget tracker not available - operations will not be rate-limited');\r\n}\r\n\r\n// Initialize structured logger and telemetry\r\nconst logger = getLogger();\r\nconst otelAdapter = getAdapter();\r\n\r\n/**\r\n * Agent auto-assignment mapping\r\n * Maps task type keywords to appropriate agent types\r\n */\r\nconst TASK_TYPE_TO_AGENT = {\r\n  research: 'researcher',\r\n  analyze: 'analyst',\r\n  code: 'coder',\r\n  implement: 'coder',\r\n  build: 'coder',\r\n  test: 'tester',\r\n  validate: 'tester',\r\n  review: 'reviewer',\r\n  audit: 'reviewer',\r\n  design: 'system-architect',\r\n  architect: 'system-architect',\r\n  plan: 'planner',\r\n  database: 'database-design-specialist',\r\n  api: 'api-designer',\r\n  debug: 'coder',\r\n  fix: 'coder',\r\n  refactor: 'coder',\r\n  optimize: 'perf-analyzer',\r\n  performance: 'perf-analyzer',\r\n  security: 'security-manager',\r\n  deploy: 'cicd-engineer',\r\n  documentation: 'technical-writing-agent',\r\n  ml: 'ml-developer',\r\n  frontend: 'react-developer',\r\n  backend: 'backend-dev',\r\n  mobile: 'mobile-dev'\r\n};\r\n\r\n/**\r\n * Auto-assign agent based on task description\r\n */\r\nfunction autoAssignAgent(taskDescription) {\r\n  if (!taskDescription) {\r\n    return 'coder'; // Default fallback\r\n  }\r\n\r\n  const lowerDesc = taskDescription.toLowerCase();\r\n\r\n  // Check for keyword matches\r\n  for (const [keyword, agentType] of Object.entries(TASK_TYPE_TO_AGENT)) {\r\n    if (lowerDesc.includes(keyword)) {\r\n      return agentType;\r\n    }\r\n  }\r\n\r\n  // Default to coder if no match\r\n  return 'coder';\r\n}\r\n\r\n/**\r\n * Call FastAPI backend endpoint\r\n */\r\nasync function callBackendAPI(endpoint, data) {\r\n  try {\r\n    const backendUrl = process.env.FASTAPI_BACKEND_URL || 'http://localhost:8000';\r\n    const url = `${backendUrl}/api/v1/hooks/${endpoint}`;\r\n\r\n    const fetch = (await import('node-fetch')).default;\r\n    const response = await fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(data)\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`Backend API error: ${response.status} ${response.statusText}`);\r\n    }\r\n\r\n    return await response.json();\r\n  } catch (error) {\r\n    logger.warn('Failed to call backend API', {\r\n      endpoint,\r\n      error: error.message,\r\n      // Don't fail the hook if backend is unavailable\r\n      note: 'Continuing without backend integration'\r\n    });\r\n    return null;\r\n  }\r\n}\r\n\r\n/**\r\n * Main hook execution\r\n */\r\nasync function preTaskHook(context) {\r\n  const startTime = Date.now();\r\n\r\n  // Generate correlation ID for this task\r\n  const taskId = context?.taskId || `task-${Date.now()}`;\r\n  const correlationId = getOrCreate(`pre-task-${taskId}`, 'prefixed');\r\n\r\n  // Start OpenTelemetry span\r\n  const span = otelAdapter.startSpan('pre-task-hook', {\r\n    attributes: {\r\n      'hook.type': 'pre-task',\r\n      'task.id': taskId,\r\n      'task.description': context?.description || 'unknown'\r\n    }\r\n  });\r\n\r\n  logger.info('Pre-task hook started', {\r\n    trace_id: correlationId,\r\n    span_id: span.spanId,\r\n    task_id: taskId,\r\n    task_description: context?.description,\r\n    operation: 'pre-task-processing'\r\n  });\r\n\r\n  try {\r\n    // Auto-assign agent based on task type\r\n    const assignedAgent = context?.agentType || autoAssignAgent(context?.description);\r\n\r\n    const taskInfo = {\r\n      taskId,\r\n      description: context?.description || '',\r\n      assignedAgent,\r\n      project: detectProject(process.cwd(), context?.description),\r\n      startTime: new Date().toISOString(),\r\n      sessionId: context?.sessionId || `session-${Date.now()}`,\r\n      parentTask: context?.parentTask || null,\r\n      swarmId: context?.swarmId || null\r\n    };\r\n\r\n    span.setAttributes({\r\n      'task.assigned_agent': assignedAgent,\r\n      'task.project': taskInfo.project,\r\n      'task.session_id': taskInfo.sessionId\r\n    });\r\n\r\n    logger.info('Agent auto-assigned', {\r\n      trace_id: correlationId,\r\n      span_id: span.spanId,\r\n      task_id: taskId,\r\n      assigned_agent: assignedAgent,\r\n      project: taskInfo.project\r\n    });\r\n\r\n    // BLOCKER-4: Check budget before allowing task to proceed\r\n    if (budgetCheckEnabled) {\r\n      const budgetCheck = budgetTracker.checkBudget(assignedAgent, {\r\n        estimatedTokens: context?.estimatedTokens || 10000,  // Default estimate\r\n        estimatedCost: context?.estimatedCost || 0.01\r\n      });\r\n\r\n      if (!budgetCheck.allowed) {\r\n        logger.error('Task blocked: Budget exceeded', {\r\n          trace_id: correlationId,\r\n          span_id: span.spanId,\r\n          task_id: taskId,\r\n          assigned_agent: assignedAgent,\r\n          reason: budgetCheck.reason,\r\n          remaining: budgetCheck.remaining\r\n        });\r\n\r\n        span.setAttribute('task.blocked', true);\r\n        span.setAttribute('task.block_reason', budgetCheck.reason);\r\n        span.addEvent('task-blocked-budget-exceeded', {\r\n          'budget.reason': budgetCheck.reason,\r\n          'budget.remaining.global': budgetCheck.remaining.global,\r\n          'budget.remaining.agent': budgetCheck.remaining.agent\r\n        });\r\n\r\n        otelAdapter.endSpan(span);\r\n\r\n        return {\r\n          success: false,\r\n          blocked: true,\r\n          reason: budgetCheck.reason,\r\n          budgetStatus: budgetCheck,\r\n          trace_id: correlationId,\r\n          span_id: span.spanId,\r\n          timestamp: new Date().toISOString(),\r\n          httpStatus: 429  // Too Many Requests\r\n        };\r\n      }\r\n\r\n      logger.info('Budget check passed', {\r\n        trace_id: correlationId,\r\n        span_id: span.spanId,\r\n        task_id: taskId,\r\n        assigned_agent: assignedAgent,\r\n        remaining_tokens: budgetCheck.remaining.agent\r\n      });\r\n\r\n      span.setAttribute('budget.check_time', budgetCheck.checkTime);\r\n      span.setAttribute('budget.remaining.agent', budgetCheck.remaining.agent);\r\n    }\r\n\r\n    // Store in Memory MCP with full tagging\r\n    const memoryData = taggedMemoryStore(assignedAgent, JSON.stringify({\r\n      event: 'task-started',\r\n      ...taskInfo,\r\n      trace_id: correlationId,\r\n      span_id: span.spanId\r\n    }), {\r\n      task_id: taskId,\r\n      intent: 'planning',\r\n      description: 'Pre-task initialization and agent assignment',\r\n      session_id: taskInfo.sessionId,\r\n      swarm_id: taskInfo.swarmId\r\n    });\r\n\r\n    // Call Memory MCP if available\r\n    if (context?.memoryStore) {\r\n      await context.memoryStore({\r\n        key: `12fa/tasks/${taskId}/pre-task`,\r\n        value: JSON.stringify(memoryData)\r\n      });\r\n\r\n      logger.debug('Task info stored in Memory MCP', {\r\n        trace_id: correlationId,\r\n        span_id: span.spanId,\r\n        memory_key: `12fa/tasks/${taskId}/pre-task`\r\n      });\r\n    }\r\n\r\n    // Call FastAPI backend endpoint\r\n    const backendResponse = await callBackendAPI('pre-task', {\r\n      task_id: taskId,\r\n      assigned_agent: assignedAgent,\r\n      description: context?.description,\r\n      project: taskInfo.project,\r\n      session_id: taskInfo.sessionId,\r\n      trace_id: correlationId,\r\n      span_id: span.spanId,\r\n      metadata: memoryData.metadata\r\n    });\r\n\r\n    if (backendResponse) {\r\n      logger.debug('Backend API notified', {\r\n        trace_id: correlationId,\r\n        span_id: span.spanId,\r\n        backend_response: backendResponse\r\n      });\r\n    }\r\n\r\n    // Propagate correlation ID for task execution\r\n    propagate(`pre-task-${taskId}`, `task-${taskId}`);\r\n\r\n    // Store session metadata\r\n    await storeSessionMetadata(taskInfo, correlationId, span.spanId);\r\n\r\n    const hookDuration = Date.now() - startTime;\r\n    span.setAttribute('duration_ms', hookDuration);\r\n    otelAdapter.endSpan(span);\r\n\r\n    return {\r\n      success: true,\r\n      taskInfo,\r\n      assignedAgent,\r\n      hookDuration,\r\n      trace_id: correlationId,\r\n      span_id: span.spanId,\r\n      timestamp: new Date().toISOString()\r\n    };\r\n\r\n  } catch (error) {\r\n    logger.error('Pre-task hook execution failed', {\r\n      trace_id: correlationId,\r\n      span_id: span.spanId,\r\n      error: error.message,\r\n      status: 'error'\r\n    });\r\n\r\n    span.recordException(error);\r\n    otelAdapter.endSpan(span);\r\n\r\n    return {\r\n      success: false,\r\n      error: error.message,\r\n      stack: error.stack,\r\n      trace_id: correlationId,\r\n      span_id: span.spanId,\r\n      timestamp: new Date().toISOString()\r\n    };\r\n  }\r\n}\r\n\r\n/**\r\n * Store session metadata for later retrieval\r\n */\r\nasync function storeSessionMetadata(taskInfo, correlationId, spanId) {\r\n  try {\r\n    const sessionPath = path.join(__dirname, '../../logs/12fa/sessions');\r\n\r\n    if (!fs.existsSync(sessionPath)) {\r\n      fs.mkdirSync(sessionPath, { recursive: true });\r\n    }\r\n\r\n    const sessionFile = path.join(sessionPath, `${taskInfo.sessionId}.json`);\r\n\r\n    const sessionData = {\r\n      sessionId: taskInfo.sessionId,\r\n      taskId: taskInfo.taskId,\r\n      assignedAgent: taskInfo.assignedAgent,\r\n      project: taskInfo.project,\r\n      startTime: taskInfo.startTime,\r\n      trace_id: correlationId,\r\n      span_id: spanId,\r\n      description: taskInfo.description,\r\n      parentTask: taskInfo.parentTask,\r\n      swarmId: taskInfo.swarmId\r\n    };\r\n\r\n    fs.writeFileSync(sessionFile, JSON.stringify(sessionData, null, 2), 'utf8');\r\n\r\n    logger.debug('Session metadata stored', {\r\n      trace_id: correlationId,\r\n      span_id: spanId,\r\n      session_id: taskInfo.sessionId,\r\n      session_file: sessionFile\r\n    });\r\n\r\n  } catch (error) {\r\n    logger.error('Failed to store session metadata', {\r\n      trace_id: correlationId,\r\n      span_id: spanId,\r\n      error: error.message\r\n    });\r\n  }\r\n}\r\n\r\n/**\r\n * Get session metadata\r\n */\r\nfunction getSessionMetadata(sessionId) {\r\n  try {\r\n    const sessionFile = path.join(__dirname, '../../logs/12fa/sessions', `${sessionId}.json`);\r\n\r\n    if (fs.existsSync(sessionFile)) {\r\n      const data = fs.readFileSync(sessionFile, 'utf8');\r\n      return JSON.parse(data);\r\n    }\r\n\r\n    return null;\r\n  } catch (error) {\r\n    logger.error('Failed to get session metadata', {\r\n      session_id: sessionId,\r\n      error: error.message\r\n    });\r\n    return null;\r\n  }\r\n}\r\n\r\n/**\r\n * CLI interface for testing\r\n */\r\nasync function main() {\r\n  const args = process.argv.slice(2);\r\n\r\n  if (args.length === 0 || args[0] === '--help') {\r\n    console.log('Usage: pre-task.js [command]');\r\n    console.log('\\nCommands:');\r\n    console.log('  test <description>      - Run test with task description');\r\n    console.log('  session <sessionId>     - Get session metadata');\r\n    console.log('\\nExample:');\r\n    console.log('  node pre-task.js test \"Implement authentication API\"');\r\n    console.log('  node pre-task.js session session-123456');\r\n    process.exit(0);\r\n  }\r\n\r\n  const command = args[0];\r\n\r\n  if (command === 'test') {\r\n    const description = args[1] || 'Test task execution';\r\n\r\n    const context = {\r\n      taskId: 'test-task-' + Date.now(),\r\n      description,\r\n      sessionId: 'test-session-' + Date.now()\r\n    };\r\n\r\n    const result = await preTaskHook(context);\r\n    console.log('\\nResult:', JSON.stringify(result, null, 2));\r\n    process.exit(result.success ? 0 : 1);\r\n\r\n  } else if (command === 'session') {\r\n    const sessionId = args[1];\r\n\r\n    if (!sessionId) {\r\n      console.error('Error: sessionId required');\r\n      process.exit(1);\r\n    }\r\n\r\n    const metadata = getSessionMetadata(sessionId);\r\n    console.log('Session Metadata:');\r\n    console.log(JSON.stringify(metadata, null, 2));\r\n    process.exit(0);\r\n\r\n  } else {\r\n    console.error('Unknown command:', command);\r\n    process.exit(1);\r\n  }\r\n}\r\n\r\n// Run if called directly\r\nif (require.main === module) {\r\n  main().catch(error => {\r\n    console.error('Fatal error:', error);\r\n    process.exit(1);\r\n  });\r\n}\r\n\r\n// Export for use as module\r\nmodule.exports = {\r\n  preTaskHook,\r\n  getSessionMetadata,\r\n  autoAssignAgent,\r\n  TASK_TYPE_TO_AGENT\r\n};\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}