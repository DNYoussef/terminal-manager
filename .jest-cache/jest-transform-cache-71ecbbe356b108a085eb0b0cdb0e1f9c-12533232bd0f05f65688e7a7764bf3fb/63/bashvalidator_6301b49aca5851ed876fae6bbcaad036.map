{"version":3,"names":["cov_1y9op1ic32","actualCoverage","fs","s","require","path","yaml","BashValidator","constructor","f","policy","activePolicy","agentType","violations","startTime","Date","now","loadPolicy","policyPath","b","defaultPath","join","process","cwd","projectPath","policyFile","existsSync","Error","fileContents","readFileSync","load","default_policy","success","version","defaultPolicy","error","message","setAgentType","agent_overrides","override","getActivePolicyConfig","baseConfig","allowed_commands","allowed_additional","blocked_commands","additional_blocked_commands","blocked_patterns","additional_blocked_patterns","extractBaseCommand","commandString","trimmed","trim","baseCmd","split","cmdName","full","base","name","isCommandAllowed","command","config","includes","allowed","reason","pattern","RegExp","replace","test","isCommandBlocked","blocked","regex","console","warn","validate","options","validationStart","maxLength","validation","max_command_length","length","createViolation","blockedCheck","allowedCheck","validationTime","valid","timestamp","toISOString","violationType","details","violation","getViolationMessage","push","logViolation","type","monitoring","log_violations","logFile","log_file","logDir","dirname","mkdirSync","recursive","logEntry","sessionId","env","CLAUDE_FLOW_SESSION_ID","pid","appendFileSync","JSON","stringify","getViolationStats","oneMinuteAgo","recentViolations","filter","v","getTime","total","lastMinute","byType","reduce","acc","uptime","isViolationRateHigh","stats","threshold","alert_threshold","exportMetrics","export_metrics","metricsFile","metrics_file","metricsDir","metrics","writeFileSync","module","exports"],"sources":["bash-validator.js"],"sourcesContent":["/**\n * Bash Command Validator\n * 12FA Quick Win #3: Policy-based bash command allowlist\n *\n * Validates bash commands against security policies before execution\n * Blocks dangerous operations while allowing safe development commands\n */\n\nconst fs = require('fs');\nconst path = require('path');\nconst yaml = require('js-yaml');\n\nclass BashValidator {\n  constructor() {\n    this.policy = null;\n    this.activePolicy = 'strict';\n    this.agentType = null;\n    this.violations = [];\n    this.startTime = Date.now();\n  }\n\n  /**\n   * Load policy from YAML file\n   */\n  loadPolicy(policyPath = null) {\n    const defaultPath = path.join(process.cwd(), 'policies', 'bash-allowlist-default.yml');\n    const projectPath = path.join(process.cwd(), '.claude-flow', 'bash-allowlist.yml');\n\n    let policyFile = policyPath || projectPath;\n\n    // Fallback to default if project policy doesn't exist\n    if (!fs.existsSync(policyFile)) {\n      policyFile = defaultPath;\n    }\n\n    if (!fs.existsSync(policyFile)) {\n      throw new Error(`Policy file not found: ${policyFile}`);\n    }\n\n    try {\n      const fileContents = fs.readFileSync(policyFile, 'utf8');\n      this.policy = yaml.load(fileContents);\n      this.activePolicy = this.policy.default_policy || 'strict';\n\n      return {\n        success: true,\n        policyFile,\n        version: this.policy.version,\n        defaultPolicy: this.activePolicy\n      };\n    } catch (error) {\n      throw new Error(`Failed to load policy: ${error.message}`);\n    }\n  }\n\n  /**\n   * Set agent type to apply agent-specific overrides\n   */\n  setAgentType(agentType) {\n    this.agentType = agentType;\n\n    // Apply agent override if exists\n    if (this.policy?.agent_overrides?.[agentType]) {\n      const override = this.policy.agent_overrides[agentType];\n      if (override.policy) {\n        this.activePolicy = override.policy;\n      }\n    }\n  }\n\n  /**\n   * Get active policy configuration\n   */\n  getActivePolicyConfig() {\n    if (!this.policy) {\n      throw new Error('Policy not loaded. Call loadPolicy() first.');\n    }\n\n    const baseConfig = this.policy[this.activePolicy];\n\n    // Apply agent overrides\n    if (this.agentType && this.policy.agent_overrides?.[this.agentType]) {\n      const override = this.policy.agent_overrides[this.agentType];\n\n      return {\n        ...baseConfig,\n        allowed_commands: [\n          ...(baseConfig.allowed_commands || []),\n          ...(override.allowed_additional || [])\n        ],\n        blocked_commands: [\n          ...(baseConfig.blocked_commands || []),\n          ...(override.additional_blocked_commands || [])\n        ],\n        blocked_patterns: [\n          ...(baseConfig.blocked_patterns || []),\n          ...(override.additional_blocked_patterns || [])\n        ]\n      };\n    }\n\n    return baseConfig;\n  }\n\n  /**\n   * Extract base command from command string\n   */\n  extractBaseCommand(commandString) {\n    // Remove leading/trailing whitespace\n    const trimmed = commandString.trim();\n\n    // Extract first command (before pipes, semicolons, etc.)\n    const baseCmd = trimmed.split(/[|;&]/)[0].trim();\n\n    // Get just the command name (first word)\n    const cmdName = baseCmd.split(/\\s+/)[0];\n\n    return {\n      full: trimmed,\n      base: baseCmd,\n      name: cmdName\n    };\n  }\n\n  /**\n   * Check if command is explicitly allowed\n   */\n  isCommandAllowed(command) {\n    const config = this.getActivePolicyConfig();\n    const { base, name } = this.extractBaseCommand(command);\n\n    // Check exact command match\n    if (config.allowed_commands?.includes(name)) {\n      return { allowed: true, reason: 'Exact command match' };\n    }\n\n    // Check base command match (e.g., \"git status\")\n    if (config.allowed_commands?.includes(base)) {\n      return { allowed: true, reason: 'Base command match' };\n    }\n\n    // Check for wildcard patterns\n    for (const allowed of config.allowed_commands || []) {\n      if (allowed.includes('*')) {\n        const pattern = new RegExp('^' + allowed.replace(/\\*/g, '.*') + '$');\n        if (pattern.test(base)) {\n          return { allowed: true, reason: `Pattern match: ${allowed}` };\n        }\n      }\n    }\n\n    return { allowed: false, reason: 'Command not in allowlist' };\n  }\n\n  /**\n   * Check if command is explicitly blocked\n   */\n  isCommandBlocked(command) {\n    const config = this.getActivePolicyConfig();\n    const { full, base, name } = this.extractBaseCommand(command);\n\n    // Check exact blocked command\n    if (config.blocked_commands?.includes(name)) {\n      return { blocked: true, reason: `Blocked command: ${name}` };\n    }\n\n    // Check base command\n    if (config.blocked_commands?.includes(base)) {\n      return { blocked: true, reason: `Blocked command: ${base}` };\n    }\n\n    // Check blocked patterns\n    for (const pattern of config.blocked_patterns || []) {\n      try {\n        const regex = new RegExp(pattern);\n        if (regex.test(full)) {\n          return {\n            blocked: true,\n            reason: `Matches blocked pattern: ${pattern}`,\n            pattern\n          };\n        }\n      } catch (error) {\n        console.warn(`Invalid regex pattern: ${pattern}`, error);\n      }\n    }\n\n    return { blocked: false };\n  }\n\n  /**\n   * Validate command against policy\n   */\n  validate(command, options = {}) {\n    const validationStart = Date.now();\n\n    // Check command length\n    const maxLength = this.policy?.validation?.max_command_length || 4096;\n    if (command.length > maxLength) {\n      return this.createViolation(command, 'COMMAND_TOO_LONG', {\n        length: command.length,\n        maxLength\n      });\n    }\n\n    // Check if blocked\n    const blockedCheck = this.isCommandBlocked(command);\n    if (blockedCheck.blocked) {\n      return this.createViolation(command, 'BLOCKED_COMMAND', {\n        reason: blockedCheck.reason,\n        pattern: blockedCheck.pattern\n      });\n    }\n\n    // Check if allowed (only for strict and moderate policies)\n    if (this.activePolicy === 'strict' || this.activePolicy === 'moderate') {\n      const allowedCheck = this.isCommandAllowed(command);\n      if (!allowedCheck.allowed) {\n        return this.createViolation(command, 'NOT_ALLOWED', {\n          reason: allowedCheck.reason\n        });\n      }\n    }\n\n    // Command is valid\n    const validationTime = Date.now() - validationStart;\n\n    return {\n      valid: true,\n      command,\n      policy: this.activePolicy,\n      agentType: this.agentType,\n      validationTime,\n      timestamp: new Date().toISOString()\n    };\n  }\n\n  /**\n   * Create violation record\n   */\n  createViolation(command, violationType, details = {}) {\n    const violation = {\n      valid: false,\n      command,\n      violationType,\n      policy: this.activePolicy,\n      agentType: this.agentType,\n      details,\n      timestamp: new Date().toISOString(),\n      message: this.getViolationMessage(violationType, command, details)\n    };\n\n    this.violations.push(violation);\n    this.logViolation(violation);\n\n    return violation;\n  }\n\n  /**\n   * Get human-readable violation message\n   */\n  getViolationMessage(type, command, details) {\n    const { base } = this.extractBaseCommand(command);\n\n    switch (type) {\n      case 'BLOCKED_COMMAND':\n        return `❌ BLOCKED: Command \"${base}\" is explicitly blocked.\\n` +\n               `Reason: ${details.reason}\\n` +\n               `Policy: ${this.activePolicy}\\n` +\n               `This command poses security risks and cannot be executed.`;\n\n      case 'NOT_ALLOWED':\n        return `❌ NOT ALLOWED: Command \"${base}\" is not in the allowlist.\\n` +\n               `Reason: ${details.reason}\\n` +\n               `Policy: ${this.activePolicy}\\n` +\n               `Only explicitly allowed commands can be executed in ${this.activePolicy} mode.`;\n\n      case 'COMMAND_TOO_LONG':\n        return `❌ COMMAND TOO LONG: Command exceeds maximum length.\\n` +\n               `Length: ${details.length} characters (max: ${details.maxLength})\\n` +\n               `This may indicate a buffer overflow attack.`;\n\n      default:\n        return `❌ VALIDATION FAILED: ${type}`;\n    }\n  }\n\n  /**\n   * Log violation to file\n   */\n  logViolation(violation) {\n    if (!this.policy?.monitoring?.log_violations) {\n      return;\n    }\n\n    const logFile = this.policy.monitoring.log_file || 'logs/bash-violations.log';\n    const logDir = path.dirname(logFile);\n\n    // Ensure log directory exists\n    if (!fs.existsSync(logDir)) {\n      fs.mkdirSync(logDir, { recursive: true });\n    }\n\n    const logEntry = {\n      ...violation,\n      sessionId: process.env.CLAUDE_FLOW_SESSION_ID || 'unknown',\n      pid: process.pid\n    };\n\n    fs.appendFileSync(\n      logFile,\n      JSON.stringify(logEntry) + '\\n',\n      'utf8'\n    );\n  }\n\n  /**\n   * Get violation statistics\n   */\n  getViolationStats() {\n    const now = Date.now();\n    const oneMinuteAgo = now - 60000;\n\n    const recentViolations = this.violations.filter(v =>\n      new Date(v.timestamp).getTime() > oneMinuteAgo\n    );\n\n    return {\n      total: this.violations.length,\n      lastMinute: recentViolations.length,\n      byType: this.violations.reduce((acc, v) => {\n        acc[v.violationType] = (acc[v.violationType] || 0) + 1;\n        return acc;\n      }, {}),\n      uptime: now - this.startTime\n    };\n  }\n\n  /**\n   * Check if violation rate exceeds threshold\n   */\n  isViolationRateHigh() {\n    const stats = this.getViolationStats();\n    const threshold = this.policy?.monitoring?.alert_threshold || 5;\n\n    return stats.lastMinute >= threshold;\n  }\n\n  /**\n   * Export metrics to file\n   */\n  exportMetrics() {\n    if (!this.policy?.monitoring?.export_metrics) {\n      return;\n    }\n\n    const metricsFile = this.policy.monitoring.metrics_file ||\n                       'metrics/bash-policy-metrics.json';\n    const metricsDir = path.dirname(metricsFile);\n\n    if (!fs.existsSync(metricsDir)) {\n      fs.mkdirSync(metricsDir, { recursive: true });\n    }\n\n    const metrics = {\n      timestamp: new Date().toISOString(),\n      policy: this.activePolicy,\n      agentType: this.agentType,\n      stats: this.getViolationStats(),\n      violations: this.violations,\n      version: this.policy.version\n    };\n\n    fs.writeFileSync(\n      metricsFile,\n      JSON.stringify(metrics, null, 2),\n      'utf8'\n    );\n  }\n}\n\n// Export singleton instance\nmodule.exports = new BashValidator();\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}