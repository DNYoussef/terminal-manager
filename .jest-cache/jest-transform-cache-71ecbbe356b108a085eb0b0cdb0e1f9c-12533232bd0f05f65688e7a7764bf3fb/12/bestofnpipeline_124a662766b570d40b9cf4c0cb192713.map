{"version":3,"names":["cov_1ohjwm9sc","actualCoverage","crypto","s","require","uuidv4","f","randomUUID","taggedMemoryStore","memoryRetrieve","createLogger","logger","SCORING_WEIGHTS","code_quality","test_coverage","documentation","performance","SANDBOX_CONFIG","timeout_ms","memory_mb","cpu_cores","cleanup_on_complete","executeBestOfN","config","taskId","startTime","Date","now","info","task_id","n","b","agents","task","validatedConfig","validateConfig","agentPromises","spawnCompetitiveAgents","executionResults","Promise","allSettled","successfulResults","filter","result","status","map","value","length","Error","successful","failed","comparisonResults","compareArtifacts","scoredResults","scoreAgentOutputs","scoring","winner","selectWinner","storeResultsInMemory","runners_up","r","agent_id","execution_time_ms","winner_agent","winner_score","score","total_time_ms","all_results","success","error","message","stack","defaults","sandbox","context","validated","push","slice","i","agentId","agentType","agent_type","index","total","promise","executeAgentInSandbox","sandbox_config","params","createE2BSandbox","sandbox_id","id","execution","runAgentTask","artifacts","collectArtifacts","metrics","tokens_used","cost_usd","calculateCost","memory_used_mb","cleanup","sandboxId","execute","command","stdout","stderr","exit_code","readFile","path","writeFile","content","listFiles","output","code_files","test_files","doc_files","Math","floor","random","code","files","quality_score","lines_of_code","tests","count","coverage","passing","docs","completeness","word_count","codeFiles","endsWith","includes","results","agent_count","comparison","code_metrics","analyzeCodeQuality","test_metrics","analyzeTestQuality","doc_metrics","analyzeDocQuality","performance_metrics","analyzePerformance","files_count","normalized_score","test_count","passing_rate","timeScore","max","weights","scored","round","breakdown","sort","a","namespace","JSON","stringify","type","key","category","intent","runnerUp","recordHumanSelection","selectedAgentId","rationale","selected_agent_id","timestamp","toISOString","retrieveSimilarResults","limit","query","mode","metadata","tokens","inputCost","outputCost","module","exports"],"sources":["best-of-n-pipeline.js"],"sourcesContent":["/**\n * Best-of-N Competitive Execution Pipeline\n *\n * Orchestrates N agents in parallel E2B sandboxes, compares outputs,\n * and selects the best result using multi-criteria scoring.\n *\n * Features:\n * - Parallel agent execution in isolated sandboxes\n * - Multi-criteria artifact comparison\n * - Automatic winner selection with weighted scoring\n * - Human override capability\n * - Memory MCP storage for learning\n *\n * @module hooks/12fa/best-of-n-pipeline\n */\n\n// Use Node.js built-in crypto instead of uuid package (ESM compatibility fix)\nconst crypto = require('crypto');\nconst uuidv4 = () => crypto.randomUUID();\nconst { taggedMemoryStore, memoryRetrieve } = require('./memory-mcp-tagging-protocol');\nconst { createLogger } = require('./structured-logger');\n\nconst logger = createLogger('best-of-n-pipeline');\n\n// Scoring weights for multi-criteria evaluation\nconst SCORING_WEIGHTS = {\n  code_quality: 0.4,\n  test_coverage: 0.3,\n  documentation: 0.2,\n  performance: 0.1\n};\n\n// E2B sandbox configuration\nconst SANDBOX_CONFIG = {\n  timeout_ms: 600000, // 10 minutes\n  memory_mb: 2048,\n  cpu_cores: 1,\n  cleanup_on_complete: true\n};\n\n/**\n * Main orchestrator for best-of-N competitive execution\n *\n * @param {Object} config - Execution configuration\n * @param {string} config.task - Task description\n * @param {number} config.n - Number of agents to spawn (default: 3)\n * @param {Array<string>} config.agents - Agent types to use\n * @param {Object} config.context - Task context and constraints\n * @param {Object} config.scoring - Custom scoring weights\n * @returns {Promise<Object>} Execution results with winner selection\n */\nasync function executeBestOfN(config) {\n  const taskId = uuidv4();\n  const startTime = Date.now();\n\n  logger.info('Starting best-of-N competitive execution', {\n    task_id: taskId,\n    n: config.n || 3,\n    agents: config.agents,\n    task: config.task\n  });\n\n  try {\n    // Step 1: Parse and validate configuration\n    const validatedConfig = await validateConfig(config);\n\n    // Step 2: Spawn N agents in parallel sandboxes\n    const agentPromises = await spawnCompetitiveAgents(validatedConfig, taskId);\n\n    // Step 3: Execute agents and collect artifacts\n    const executionResults = await Promise.allSettled(agentPromises);\n\n    // Step 4: Filter successful executions\n    const successfulResults = executionResults\n      .filter(result => result.status === 'fulfilled')\n      .map(result => result.value);\n\n    if (successfulResults.length === 0) {\n      throw new Error('All agent executions failed');\n    }\n\n    logger.info('Agent executions completed', {\n      task_id: taskId,\n      successful: successfulResults.length,\n      failed: executionResults.length - successfulResults.length\n    });\n\n    // Step 5: Collect and compare artifacts\n    const comparisonResults = await compareArtifacts(successfulResults, validatedConfig);\n\n    // Step 6: Score each agent's output\n    const scoredResults = await scoreAgentOutputs(comparisonResults, validatedConfig.scoring);\n\n    // Step 7: Select winner based on scores\n    const winner = selectWinner(scoredResults);\n\n    // Step 8: Store results in Memory MCP\n    await storeResultsInMemory(taskId, {\n      winner,\n      runners_up: scoredResults.filter(r => r.agent_id !== winner.agent_id),\n      task: config.task,\n      execution_time_ms: Date.now() - startTime\n    });\n\n    logger.info('Best-of-N execution completed', {\n      task_id: taskId,\n      winner_agent: winner.agent_id,\n      winner_score: winner.score,\n      total_time_ms: Date.now() - startTime\n    });\n\n    return {\n      task_id: taskId,\n      winner,\n      all_results: scoredResults,\n      execution_time_ms: Date.now() - startTime,\n      success: true\n    };\n\n  } catch (error) {\n    logger.error('Best-of-N execution failed', {\n      task_id: taskId,\n      error: error.message,\n      stack: error.stack\n    });\n\n    throw error;\n  }\n}\n\n/**\n * Validate and normalize configuration\n */\nasync function validateConfig(config) {\n  const defaults = {\n    n: 3,\n    agents: ['coder', 'backend-dev', 'ml-developer'],\n    scoring: SCORING_WEIGHTS,\n    sandbox: SANDBOX_CONFIG,\n    context: {}\n  };\n\n  const validated = {\n    ...defaults,\n    ...config,\n    scoring: { ...defaults.scoring, ...config.scoring },\n    sandbox: { ...defaults.sandbox, ...config.sandbox }\n  };\n\n  // Validate N is between 2 and 10\n  if (validated.n < 2 || validated.n > 10) {\n    throw new Error('N must be between 2 and 10');\n  }\n\n  // Ensure we have enough agent types\n  if (validated.agents.length < validated.n) {\n    // Duplicate agents if needed\n    while (validated.agents.length < validated.n) {\n      validated.agents.push(...validated.agents);\n    }\n    validated.agents = validated.agents.slice(0, validated.n);\n  }\n\n  return validated;\n}\n\n/**\n * Spawn N agents in parallel E2B sandboxes\n */\nasync function spawnCompetitiveAgents(config, taskId) {\n  const agentPromises = [];\n\n  for (let i = 0; i < config.n; i++) {\n    const agentId = uuidv4();\n    const agentType = config.agents[i];\n\n    logger.info('Spawning competitive agent', {\n      task_id: taskId,\n      agent_id: agentId,\n      agent_type: agentType,\n      index: i + 1,\n      total: config.n\n    });\n\n    const promise = executeAgentInSandbox({\n      task_id: taskId,\n      agent_id: agentId,\n      agent_type: agentType,\n      task: config.task,\n      context: config.context,\n      sandbox_config: config.sandbox\n    });\n\n    agentPromises.push(promise);\n  }\n\n  return agentPromises;\n}\n\n/**\n * Execute a single agent in an isolated E2B sandbox\n */\nasync function executeAgentInSandbox(params) {\n  const { task_id, agent_id, agent_type, task, context, sandbox_config } = params;\n  const startTime = Date.now();\n\n  logger.info('Starting agent sandbox execution', {\n    task_id,\n    agent_id,\n    agent_type\n  });\n\n  try {\n    // Create isolated E2B sandbox\n    const sandbox = await createE2BSandbox(sandbox_config);\n\n    logger.info('E2B sandbox created', {\n      task_id,\n      agent_id,\n      sandbox_id: sandbox.id\n    });\n\n    // Execute agent task in sandbox\n    const execution = await runAgentTask(sandbox, {\n      agent_type,\n      task,\n      context,\n      timeout_ms: sandbox_config.timeout_ms\n    });\n\n    // Collect artifacts from sandbox\n    const artifacts = await collectArtifacts(sandbox, execution);\n\n    // Calculate basic metrics\n    const metrics = {\n      execution_time_ms: Date.now() - startTime,\n      tokens_used: execution.tokens_used || 0,\n      cost_usd: calculateCost(execution.tokens_used || 0),\n      memory_used_mb: execution.memory_used_mb || 0\n    };\n\n    // Cleanup sandbox\n    if (sandbox_config.cleanup_on_complete) {\n      await sandbox.cleanup();\n    }\n\n    logger.info('Agent sandbox execution completed', {\n      task_id,\n      agent_id,\n      execution_time_ms: metrics.execution_time_ms\n    });\n\n    return {\n      task_id,\n      agent_id,\n      agent_type,\n      artifacts,\n      metrics,\n      sandbox_id: sandbox.id,\n      success: true\n    };\n\n  } catch (error) {\n    logger.error('Agent sandbox execution failed', {\n      task_id,\n      agent_id,\n      agent_type,\n      error: error.message\n    });\n\n    return {\n      task_id,\n      agent_id,\n      agent_type,\n      error: error.message,\n      success: false\n    };\n  }\n}\n\n/**\n * Create an isolated E2B sandbox environment\n */\nasync function createE2BSandbox(config) {\n  // Mock E2B sandbox creation (replace with actual E2B SDK)\n  const sandboxId = uuidv4();\n\n  return {\n    id: sandboxId,\n    config,\n    execute: async (command) => {\n      // Simulate command execution\n      return {\n        stdout: `Executed: ${command}`,\n        stderr: '',\n        exit_code: 0\n      };\n    },\n    readFile: async (path) => {\n      // Simulate file reading\n      return `Content of ${path}`;\n    },\n    writeFile: async (path, content) => {\n      // Simulate file writing\n      return true;\n    },\n    listFiles: async () => {\n      // Simulate file listing\n      return [];\n    },\n    cleanup: async () => {\n      // Simulate cleanup\n      return true;\n    }\n  };\n}\n\n/**\n * Run agent task within sandbox\n */\nasync function runAgentTask(sandbox, params) {\n  const { agent_type, task, context, timeout_ms } = params;\n\n  // Simulate agent execution (replace with actual agent invocation)\n  const execution = {\n    agent_type,\n    task,\n    output: {\n      code_files: [],\n      test_files: [],\n      doc_files: []\n    },\n    tokens_used: Math.floor(Math.random() * 50000) + 10000,\n    memory_used_mb: Math.floor(Math.random() * 1024) + 512,\n    success: true\n  };\n\n  return execution;\n}\n\n/**\n * Collect artifacts from sandbox execution\n */\nasync function collectArtifacts(sandbox, execution) {\n  const artifacts = {\n    code: {\n      files: [],\n      quality_score: 0,\n      lines_of_code: 0\n    },\n    tests: {\n      files: [],\n      count: 0,\n      coverage: 0,\n      passing: 0\n    },\n    docs: {\n      files: [],\n      completeness: 0,\n      word_count: 0\n    }\n  };\n\n  // Collect code files\n  const codeFiles = await sandbox.listFiles();\n  artifacts.code.files = codeFiles.filter(f => f.endsWith('.js') || f.endsWith('.py'));\n  artifacts.code.lines_of_code = Math.floor(Math.random() * 500) + 100;\n\n  // Mock quality score (replace with actual Connascence analysis)\n  artifacts.code.quality_score = Math.floor(Math.random() * 30) + 70; // 70-100\n\n  // Collect test files\n  artifacts.tests.files = codeFiles.filter(f => f.includes('test') || f.includes('spec'));\n  artifacts.tests.count = artifacts.tests.files.length * 5;\n  artifacts.tests.coverage = Math.floor(Math.random() * 30) + 70; // 70-100\n  artifacts.tests.passing = artifacts.tests.count;\n\n  // Collect documentation files\n  artifacts.docs.files = codeFiles.filter(f => f.endsWith('.md') || f.endsWith('.txt'));\n  artifacts.docs.word_count = artifacts.docs.files.length * 500;\n  artifacts.docs.completeness = Math.floor(Math.random() * 30) + 70; // 70-100\n\n  return artifacts;\n}\n\n/**\n * Compare artifacts across all agents\n */\nasync function compareArtifacts(results, config) {\n  logger.info('Comparing artifacts across agents', {\n    agent_count: results.length\n  });\n\n  const comparison = results.map(result => ({\n    ...result,\n    comparison: {\n      code_metrics: analyzeCodeQuality(result.artifacts.code),\n      test_metrics: analyzeTestQuality(result.artifacts.tests),\n      doc_metrics: analyzeDocQuality(result.artifacts.docs),\n      performance_metrics: analyzePerformance(result.metrics)\n    }\n  }));\n\n  return comparison;\n}\n\n/**\n * Analyze code quality metrics\n */\nfunction analyzeCodeQuality(code) {\n  return {\n    quality_score: code.quality_score,\n    lines_of_code: code.lines_of_code,\n    files_count: code.files.length,\n    normalized_score: code.quality_score / 100\n  };\n}\n\n/**\n * Analyze test quality metrics\n */\nfunction analyzeTestQuality(tests) {\n  return {\n    coverage: tests.coverage,\n    test_count: tests.count,\n    passing_rate: tests.passing / tests.count,\n    normalized_score: (tests.coverage / 100) * (tests.passing / tests.count)\n  };\n}\n\n/**\n * Analyze documentation quality metrics\n */\nfunction analyzeDocQuality(docs) {\n  return {\n    completeness: docs.completeness,\n    word_count: docs.word_count,\n    files_count: docs.files.length,\n    normalized_score: docs.completeness / 100\n  };\n}\n\n/**\n * Analyze performance metrics\n */\nfunction analyzePerformance(metrics) {\n  // Normalize execution time (lower is better)\n  const timeScore = Math.max(0, 1 - (metrics.execution_time_ms / 600000));\n\n  return {\n    execution_time_ms: metrics.execution_time_ms,\n    tokens_used: metrics.tokens_used,\n    cost_usd: metrics.cost_usd,\n    normalized_score: timeScore\n  };\n}\n\n/**\n * Score all agent outputs using weighted criteria\n */\nasync function scoreAgentOutputs(results, weights) {\n  logger.info('Scoring agent outputs', {\n    agent_count: results.length,\n    weights\n  });\n\n  const scored = results.map(result => {\n    const score =\n      (result.comparison.code_metrics.normalized_score * weights.code_quality) +\n      (result.comparison.test_metrics.normalized_score * weights.test_coverage) +\n      (result.comparison.doc_metrics.normalized_score * weights.documentation) +\n      (result.comparison.performance_metrics.normalized_score * weights.performance);\n\n    return {\n      ...result,\n      score: Math.round(score * 100), // Convert to 0-100 scale\n      breakdown: {\n        code_quality: result.comparison.code_metrics.normalized_score * weights.code_quality * 100,\n        test_coverage: result.comparison.test_metrics.normalized_score * weights.test_coverage * 100,\n        documentation: result.comparison.doc_metrics.normalized_score * weights.documentation * 100,\n        performance: result.comparison.performance_metrics.normalized_score * weights.performance * 100\n      }\n    };\n  });\n\n  // Sort by score descending\n  return scored.sort((a, b) => b.score - a.score);\n}\n\n/**\n * Select winner from scored results\n */\nfunction selectWinner(scoredResults) {\n  if (scoredResults.length === 0) {\n    throw new Error('No results to select winner from');\n  }\n\n  const winner = scoredResults[0];\n\n  logger.info('Winner selected', {\n    agent_id: winner.agent_id,\n    agent_type: winner.agent_type,\n    score: winner.score,\n    breakdown: winner.breakdown\n  });\n\n  return winner;\n}\n\n/**\n * Store execution results in Memory MCP for learning\n */\nasync function storeResultsInMemory(taskId, results) {\n  const namespace = `best_of_n/task_${taskId}`;\n\n  // Store winner\n  await taggedMemoryStore('best-of-n-orchestrator', JSON.stringify({\n    type: 'winner',\n    task_id: taskId,\n    agent_id: results.winner.agent_id,\n    agent_type: results.winner.agent_type,\n    score: results.winner.score,\n    breakdown: results.winner.breakdown,\n    artifacts: results.winner.artifacts,\n    metrics: results.winner.metrics\n  }), {\n    namespace,\n    key: 'winner',\n    category: 'competitive_execution',\n    intent: 'best_of_n_winner'\n  });\n\n  // Store runners-up\n  for (const runnerUp of results.runners_up) {\n    await taggedMemoryStore('best-of-n-orchestrator', JSON.stringify({\n      type: 'runner_up',\n      task_id: taskId,\n      agent_id: runnerUp.agent_id,\n      agent_type: runnerUp.agent_type,\n      score: runnerUp.score,\n      breakdown: runnerUp.breakdown\n    }), {\n      namespace,\n      key: `runner_up_${runnerUp.agent_id}`,\n      category: 'competitive_execution',\n      intent: 'best_of_n_runner_up'\n    });\n  }\n\n  // Store task metadata\n  await taggedMemoryStore('best-of-n-orchestrator', JSON.stringify({\n    type: 'task_metadata',\n    task_id: taskId,\n    task: results.task,\n    execution_time_ms: results.execution_time_ms,\n    agent_count: results.runners_up.length + 1,\n    winner_score: results.winner.score\n  }), {\n    namespace,\n    key: 'metadata',\n    category: 'competitive_execution',\n    intent: 'best_of_n_metadata'\n  });\n\n  logger.info('Results stored in Memory MCP', {\n    task_id: taskId,\n    namespace\n  });\n}\n\n/**\n * Record human selection override\n */\nasync function recordHumanSelection(taskId, selectedAgentId, rationale) {\n  const namespace = `best_of_n/task_${taskId}`;\n\n  await taggedMemoryStore('best-of-n-orchestrator', JSON.stringify({\n    type: 'human_selection',\n    task_id: taskId,\n    selected_agent_id: selectedAgentId,\n    rationale,\n    timestamp: new Date().toISOString()\n  }), {\n    namespace,\n    key: 'human_selection',\n    category: 'competitive_execution',\n    intent: 'human_override'\n  });\n\n  logger.info('Human selection recorded', {\n    task_id: taskId,\n    selected_agent_id: selectedAgentId\n  });\n}\n\n/**\n * Retrieve similar best-of-N results from Memory MCP\n */\nasync function retrieveSimilarResults(task, limit = 5) {\n  const results = await memoryRetrieve({\n    query: task,\n    namespace: 'best_of_n',\n    limit,\n    mode: 'planning' // Broader exploration\n  });\n\n  return results.filter(r => r.metadata?.category === 'competitive_execution');\n}\n\n/**\n * Calculate cost based on token usage\n */\nfunction calculateCost(tokens) {\n  // Assuming Claude Sonnet 4.5 pricing: $3/$15 per million tokens\n  const inputCost = (tokens * 0.7 * 3) / 1000000; // 70% input\n  const outputCost = (tokens * 0.3 * 15) / 1000000; // 30% output\n  return Math.round((inputCost + outputCost) * 100) / 100;\n}\n\nmodule.exports = {\n  executeBestOfN,\n  recordHumanSelection,\n  retrieveSimilarResults,\n  SCORING_WEIGHTS,\n  SANDBOX_CONFIG\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}